---
import ThemeToggle from './ThemeToggle.astro';
import MobileMenuButton from './MobileMenuButton.astro';
import Search from './Search.astro';

const baseUrl = import.meta.env.BASE_URL;
const { title = "Thomas Klok Rohde" } = Astro.props;
---

<header class="sticky top-0 z-50 w-full border-b border-cream-300 dark:border-border-dark bg-cream/90 dark:bg-navy/90 backdrop-blur-md">
  <div class="max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <MobileMenuButton />
      <!-- Editorial Masthead Logo -->
      <a class="flex items-center gap-3 group" href={baseUrl}>
        <!-- Geometric monogram mark -->
        <div class="relative size-9 flex items-center justify-center">
          <!-- Outer ring with accent -->
          <div class="absolute inset-0 rounded-lg border-2 border-primary-700 dark:border-gold-500 group-hover:border-accent dark:group-hover:border-gold-400 transition-colors"></div>
          <!-- Inner monogram -->
          <span class="font-display text-lg font-bold text-primary-800 dark:text-gold-400 tracking-tight">TR</span>
        </div>
        <!-- Site title with serif elegance -->
        <div class="hidden sm:flex flex-col leading-none">
          <span class="font-display text-lg font-semibold tracking-tight text-primary-800 dark:text-cream-100">{title}</span>
          <span class="text-[10px] tracking-[0.2em] uppercase text-ink-muted dark:text-cream-400 font-medium mt-0.5">Notes & Essays</span>
        </div>
      </a>
    </div>

    <div class="flex items-center gap-3">
      <Search />
      <div class="w-px h-6 bg-cream-300 dark:bg-border-dark hidden sm:block"></div>
      <ThemeToggle />
    </div>
  </div>
</header>

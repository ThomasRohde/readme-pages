---
interface Props {
  prev?: {
    slug: string;
    title: string;
    description?: string;
  };
  next?: {
    slug: string;
    title: string;
    description?: string;
  };
  collection: 'notes' | 'pages';
}

const { prev, next, collection } = Astro.props;
const base = import.meta.env.BASE_URL || '/';
const baseWithSlash = base.endsWith('/') ? base : `${base}/`;
const collectionPath = collection === 'notes' ? 'notes/' : '';
---

{(prev || next) && (
  <nav class="mt-16 pt-8 border-t border-slate-200 dark:border-border-dark" aria-label="Article navigation">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      {prev ? (
        <a
          href={`${baseWithSlash}${collectionPath}${prev.slug}/`}
          class="group block p-6 rounded-lg border border-slate-200 dark:border-border-dark bg-white dark:bg-surface-dark hover:border-primary dark:hover:border-primary hover:shadow-lg transition-all duration-200"
        >
          <div class="flex items-center text-sm font-medium text-slate-500 dark:text-slate-400 mb-2">
            <span class="material-symbols-outlined text-lg mr-1">arrow_back</span>
            Previous
          </div>
          <div class="font-semibold text-slate-900 dark:text-slate-100 group-hover:text-primary dark:group-hover:text-primary transition-colors">
            {prev.title}
          </div>
          {prev.description && (
            <p class="mt-2 text-sm text-slate-600 dark:text-slate-400 line-clamp-2">
              {prev.description}
            </p>
          )}
        </a>
      ) : (
        <div></div>
      )}
      
      {next ? (
        <a
          href={`${baseWithSlash}${collectionPath}${next.slug}/`}
          class="group block p-6 rounded-lg border border-slate-200 dark:border-border-dark bg-white dark:bg-surface-dark hover:border-primary dark:hover:border-primary hover:shadow-lg transition-all duration-200 text-right"
        >
          <div class="flex items-center justify-end text-sm font-medium text-slate-500 dark:text-slate-400 mb-2">
            Next
            <span class="material-symbols-outlined text-lg ml-1">arrow_forward</span>
          </div>
          <div class="font-semibold text-slate-900 dark:text-slate-100 group-hover:text-primary dark:group-hover:text-primary transition-colors">
            {next.title}
          </div>
          {next.description && (
            <p class="mt-2 text-sm text-slate-600 dark:text-slate-400 line-clamp-2">
              {next.description}
            </p>
          )}
        </a>
      ) : (
        <div></div>
      )}
    </div>
  </nav>
)}

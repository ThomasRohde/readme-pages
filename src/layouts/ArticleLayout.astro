---
import BaseLayout from './BaseLayout.astro';
import Toc from '../components/Toc.astro';
import Breadcrumb from '../components/Breadcrumb.astro';

interface Props {
  title?: string;
  description?: string;
  image?: string;
  imageAlt?: string;
  publishedTime?: Date;
  modifiedTime?: Date;
  tags?: string[];
  author?: string;
  canonicalURL?: string;
  headings?: Array<{
    depth: number;
    slug: string;
    text: string;
  }>;
  breadcrumbItems?: Array<{
    label: string;
    href?: string;
  }>;
}

const {
  title,
  description,
  image,
  imageAlt,
  publishedTime,
  modifiedTime,
  tags = [],
  author,
  canonicalURL,
  headings = [],
  breadcrumbItems = []
} = Astro.props;
---

<BaseLayout
  title={title}
  description={description}
  image={image}
  imageAlt={imageAlt}
  type="article"
  publishedTime={publishedTime}
  modifiedTime={modifiedTime}
  tags={tags}
  author={author}
  canonicalURL={canonicalURL}
>
  {breadcrumbItems.length > 0 && <Breadcrumb items={breadcrumbItems} />}
  <slot />
  
  <Toc headings={headings} slot="sidebar-right" />
</BaseLayout>
